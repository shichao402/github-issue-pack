---
alwaysApply: true
---
# 调试规则 - 最高优先级

## 调试流程强制规则

1. **部署应用：** 必须使用部署脚本，不得手动执行构建命令
2. **收集日志：** 必须使用日志收集脚本，不得手动使用系统命令
3. **分析问题：** 基于脚本收集的日志进行分析
4. **修复问题：** 修复后必须重新部署和收集日志验证

## 标准调试流程

### 测试时AI必须主动（强制使用脚本）：

1. **使用部署脚本部署应用**
   - 执行：`./scripts/deploy.sh`（Unix）或 `scripts\deploy.bat`（Windows）
   - 脚本会自动构建、安装并启动应用

2. 执行测试操作

3. **立即使用日志收集脚本收集所有日志**
   - 执行：`./scripts/collect_logs.sh`（Unix）或 `scripts\collect_logs.bat`（Windows）

4. 分析日志定位问题

5. 修复问题

6. **重新部署和收集日志验证修复**

## 禁止行为

- ❌ 要求用户手动复制日志
- ❌ 要求用户截图（平台特定规则可能要求使用特定工具自动截图，如Android使用adb）
- ❌ 依赖系统日志而不查看应用日志
- ❌ 等待用户提供信息而不主动收集
- ❌ 手动执行任何命令（必须使用脚本）
- ❌ 直接执行构建工具命令（如 flutter build、npm run build 等）

**注意：** 平台特定规则可能包含更具体的截图和调试要求，请参考对应平台的规则文件。

## 必须遵守

- ✅ 调试流程必须遵循：部署 → 测试 → 收集日志 → 分析 → 修复
- ✅ AI必须主动执行脚本，不要求用户操作
- ✅ 所有构建和部署操作必须通过脚本执行
