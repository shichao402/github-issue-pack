---
alwaysApply: true
---
# Git 配置规则

## 核心约束（强制）

1. **项目初始化时必须配置 Git 换行符和编码处理**
2. **必须创建 `.gitattributes` 文件**
3. **AI 必须自动配置，不要求用户手动操作**

## .gitattributes 文件（必须）

项目根目录必须创建 `.gitattributes` 文件：

```gitattributes
# 批处理文件使用 CRLF 换行符（Windows）
*.bat text eol=crlf
*.cmd text eol=crlf

# 脚本文件使用 LF 换行符（Unix）
*.sh text eol=lf
*.py text eol=lf

# 配置文件使用 LF
*.json text eol=lf
*.yaml text eol=lf
*.yml text eol=lf
*.toml text eol=lf

# Markdown 文件使用 LF
*.md text eol=lf
*.mdc text eol=lf

# 二进制文件
*.png binary
*.jpg binary
*.jpeg binary
*.gif binary
*.ico binary
*.pdf binary
```

## 编码规范

| 文件类型 | 编码 | 说明 |
|---------|------|------|
| `.bat/.cmd` | GBK 或 UTF-8 with BOM | 中文 Windows 兼容 |
| `.sh` | UTF-8 | Unix 标准 |
| `.py/.js/.ts` | UTF-8 | 源代码标准 |
| `.json/.yaml` | UTF-8 | 配置文件标准 |

## 初始化检查清单

- [ ] 创建 `.gitattributes` 文件
- [ ] 配置批处理文件换行符（CRLF）
- [ ] 配置脚本文件换行符（LF）
- [ ] 确保文件编码正确

## 禁止行为

- ❌ 不创建 `.gitattributes` 文件
- ❌ 使用错误的文件编码导致乱码
- ❌ 要求用户手动配置 Git 设置
