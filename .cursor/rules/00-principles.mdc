---
alwaysApply: true
---
# github-issue-pack 核心编程原则

## 规则优先级

1. **最高优先级：** 核心原则、Git 配置、安全规则
2. **高优先级：** 日志规则、脚本规则、调试规则
3. **中优先级：** 技术栈规则、功能包规则

## 核心原则

### 1. 数据源单点原则

- **定义：** 每种数据只能有一个权威来源
- **实践：**
  - 版本号只从 `version.json` 读取
  - 配置只从指定配置文件读取
  - 状态只在一个地方管理
- **禁止：** 硬编码数据、重复定义数据源

### 2. 功能单点原则

- **定义：** 每个功能只在一个地方实现
- **实践：**
  - 日志功能只通过 `LogService` 调用
  - 网络请求只通过统一的 HTTP 客户端
  - 存储操作只通过统一的存储服务
- **禁止：** 重复实现相同功能、绕过统一接口

### 3. 高内聚低耦合原则

- **定义：** 模块内部紧密相关，模块之间松散依赖
- **实践：**
  - 每个模块只负责一个明确的职责
  - 模块间通过接口通信，不直接依赖实现
  - 使用依赖注入管理模块依赖
- **禁止：** 模块间循环依赖、跨模块直接访问内部实现

### 4. 代码结构清晰原则

- **定义：** 代码组织有明确的层次和规范
- **实践：**
  - 目录结构反映功能划分
  - 文件命名遵循统一规范
  - 代码分层清晰（UI/业务/数据）
- **禁止：** 随意放置文件、混乱的命名

### 5. 自动化优先原则

- **定义：** 能自动化的操作必须自动化
- **实践：**
  - 构建、测试、部署通过脚本执行
  - AI 主动执行脚本，不要求用户操作
  - 脚本失败必须修复脚本，不手动执行命令
- **禁止：** 手动执行重复性命令、要求用户手动操作

### 6. 日志优先原则

- **定义：** 所有组件必须先实现日志系统
- **实践：**
  - 关键操作必须记录日志
  - 错误必须记录完整上下文
  - AI 主动收集日志进行调试
- **禁止：** 无日志的关键操作、忽略错误日志

### 7. 安全优先原则

- **定义：** 安全是不可妥协的底线
- **实践：**
  - 敏感信息必须排除在版本控制之外
  - 密钥、令牌使用环境变量或安全存储
  - 输入必须验证，输出必须转义
- **禁止：** 硬编码敏感信息、提交敏感文件

## 禁止行为总览

- ❌ 硬编码任何可配置的值
- ❌ 重复实现已有功能
- ❌ 跳过日志直接处理错误
- ❌ 手动执行可脚本化的操作
- ❌ 提交敏感信息到版本控制
- ❌ 创建循环依赖
- ❌ 绕过统一接口直接访问

## 必须遵守

- ✅ 所有数据从单一来源获取
- ✅ 所有功能通过统一接口调用
- ✅ 所有关键操作记录日志
- ✅ 所有重复操作脚本化
- ✅ 所有敏感信息安全存储
